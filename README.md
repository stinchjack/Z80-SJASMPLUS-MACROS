# Z80 SJASMPlus Macros

## Disclaimer: Although the Z80 assembly code is hand-written, this README is generated by AI

A collection of Z80 assembly language macros designed for use with the [SJASMPlus](https://github.com/z00m128/sjasmplus) assembler.
These macros simplify common 8-bit arithmetic and memory operations to improve readability and reusability in Z80 assembly projects.

---

## Features

- Minimum/maximum comparisons on register A
- Memory arithmetic (add values from registers or other memory locations)
- Absolute value and negation routines
- Indexed operations with `ix` and `hl`
- Designed to be efficient and readable
- Uses modern macro syntax supported by SJASMPlus

---

## Installation

Clone or download this repository, and include the macro file in your Z80 assembly project:

## Example usage

  INCLUDE "include/macros/8-bit-maths.macros.asm"

  ld a, 20
  MIN_UNSIGNED_A_VAL 42    ; Sets A to 42 if A < 42

  ld a, (myvar)
  ABS8_A                   ; Makes A = |A| if A is signed

  ADD_ADDR_REG myvar, b    ; Adds B to the byte at myvar

  SUM_IX 0, 1, 2           ; (ix+0) = (ix+1) + (ix+2)

## Macro List

  | Macro                | Description                              |
  | -------------------- | ---------------------------------------- |
  | `MIN_UNSIGNED_A_VAL` | Clamp A to a minimum value               |
  | `MAX_UNSIGNED_A_VAL` | Clamp A to a maximum value               |
  | `ADD_ADDR_REG`       | Add a register value to a memory address |
  | `ADD_ADDR_ADDR`      | Add one memory location to another       |
  | `ADD_IX`             | Add values at IX+offsets                 |
  | `SUM_IX`             | Sum two IX offsets into another          |
  | `NEG8_IXPLUS`        | Negate value at (IX + n)                 |
  | `ABS8_IXPLUS`        | Absolute value of (IX + n)               |
  | `ABS8_A`             | Absolute value of register A             |
  | `ABS8_HLPTR`         | Absolute value of (HL)                   |
  | `ABS8_DEPTR`         | Absolute value of (DE)                   |
